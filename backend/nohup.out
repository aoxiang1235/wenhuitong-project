Watching for file changes with StatReloader
Exception in thread django-main-thread:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 48, in get_internal_wsgi_application
    return import_string(app_path)
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/django/utils/module_loading.py", line 30, in import_string
    return cached_import(module_path, class_name)
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/django/utils/module_loading.py", line 15, in cached_import
    module = import_module(module_path)
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1006, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 688, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 883, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/core/wsgi.py", line 16, in <module>
    application = get_wsgi_application()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/django/core/wsgi.py", line 13, in get_wsgi_application
    return WSGIHandler()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/django/core/handlers/wsgi.py", line 118, in __init__
    self.load_middleware()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/django/core/handlers/base.py", line 40, in load_middleware
    middleware = import_string(middleware_path)
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/django/utils/module_loading.py", line 30, in import_string
    return cached_import(module_path, class_name)
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/django/utils/module_loading.py", line 15, in cached_import
    module = import_module(module_path)
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
  File "<frozen importlib._bootstrap>", line 992, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1004, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'corsheaders'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/threading.py", line 1009, in _bootstrap_inner
    self.run()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/threading.py", line 946, in run
    self._target(*self._args, **self._kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/django/utils/autoreload.py", line 64, in wrapper
    fn(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/django/core/management/commands/runserver.py", line 143, in inner_run
    handler = self.get_handler(*args, **options)
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/django/contrib/staticfiles/management/commands/runserver.py", line 31, in get_handler
    handler = super().get_handler(*args, **options)
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/django/core/management/commands/runserver.py", line 73, in get_handler
    return get_internal_wsgi_application()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 50, in get_internal_wsgi_application
    raise ImproperlyConfigured(
django.core.exceptions.ImproperlyConfigured: WSGI application 'core.wsgi.application' could not be loaded; Error importing module.
Performing system checks...

System check identified no issues (0 silenced).

You have 18 unapplied migration(s). Your project may not work properly until you apply the migrations for app(s): admin, auth, contenttypes, sessions.
Run 'python manage.py migrate' to apply them.
Watching for file changes with StatReloader
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:06] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:08] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:09] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:10] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:11] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:12] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:13] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:13] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:14] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:14] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:15] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:15] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:16] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:17] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:17] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:18] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:18] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:19] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:19] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:20] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:20] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:21] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
ModuleNotFoundError: No module named 'tiktoken'
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:23] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:30:23] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
ModuleNotFoundError: No module named 'tiktoken'
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:25] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:30:25] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
Traceback (most recent call last):
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
ModuleNotFoundError: No module named 'tiktoken'
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:27] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:30:27] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:29] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:29] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:31] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:30:31] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:33] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:30:33] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
ModuleNotFoundError: No module named 'tiktoken'
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:35] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:30:35] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
ModuleNotFoundError: No module named 'tiktoken'
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:37] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:30:37] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
ModuleNotFoundError: No module named 'tiktoken'
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:39] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:30:39] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
[22/Jun/2025 12:30:41] "POST /api/chat/ HTTP/1.1" 500 59
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:41] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
ModuleNotFoundError: No module named 'tiktoken'
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:43] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:30:43] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:45] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:30:45] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:47] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:30:47] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
ModuleNotFoundError: No module named 'tiktoken'
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:49] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:30:49] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
[22/Jun/2025 12:30:51] "POST /api/chat/ HTTP/1.1" 500 59
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:51] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:53] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:30:53] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
Traceback (most recent call last):
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:55] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:30:55] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:57] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:30:57] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
[22/Jun/2025 12:30:59] "POST /api/chat/ HTTP/1.1" 500 59
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:30:59] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:31:01] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:31:01] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:31:03] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:31:03] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:31:05] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:31:05] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:31:07] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:31:07] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:31:09] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:31:09] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
[22/Jun/2025 12:31:11] "POST /api/chat/ HTTP/1.1" 500 59
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:31:11] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:31:13] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:31:13] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:31:15] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:31:15] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:31:17] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:31:17] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:31:19] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:31:19] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:31:21] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:31:21] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:31:23] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:31:23] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:31:25] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:31:25] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:31:27] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:31:27] "POST /api/chat/ HTTP/1.1" 500 59
Traceback (most recent call last):
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/django/core/servers/basehttp.py", line 174, in finish_response
    super().finish_response()
  File "/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/wsgiref/handlers.py", line 183, in finish_response
    for data in self.result:
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py", line 13, in stream_chat
    tokenizer = get_tokenizer('qwen-turbo')  # 选择你的模型名
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/tokenizer.py", line 29, in get_tokenizer
    return QwenTokenizer(
  File "/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/dashscope/tokenizers/qwen_tokenizer.py", line 66, in __init__
    import tiktoken
ModuleNotFoundError: No module named 'tiktoken'
ModuleNotFoundError: No module named 'tiktoken'
[22/Jun/2025 12:31:29] "POST /api/chat/ HTTP/1.1" 500 59
[22/Jun/2025 12:31:29] "POST /api/chat/ HTTP/1.1" 500 59
Performing system checks...

System check identified no issues (0 silenced).

You have 18 unapplied migration(s). Your project may not work properly until you apply the migrations for app(s): admin, auth, contenttypes, sessions.
Run 'python manage.py migrate' to apply them.
June 22, 2025 - 12:30:05
Django version 5.2.3, using settings 'core.settings'
Starting development server at http://0.0.0.0:8000/
Quit the server with CONTROL-C.

WARNING: This is a development server. Do not use it in a production setting. Use a production WSGI or ASGI server instead.
For more information on production servers see: https://docs.djangoproject.com/en/5.2/howto/deployment/
Watching for file changes with StatReloader
/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/venv/lib/python3.10/site-packages/langchain/__init__.py:30: UserWarning: Importing verbose from langchain root module is no longer supported. Please use langchain.globals.set_verbose() / langchain.globals.get_verbose() instead.
  warnings.warn(
[22/Jun/2025 12:31:33] "POST /api/chat/ HTTP/1.1" 200 276
[22/Jun/2025 12:31:34] "POST /api/chat/ HTTP/1.1" 200 274
[22/Jun/2025 12:31:54] "POST /api/chat/ HTTP/1.1" 200 258
/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py changed, reloading.
Performing system checks...

System check identified no issues (0 silenced).

You have 18 unapplied migration(s). Your project may not work properly until you apply the migrations for app(s): admin, auth, contenttypes, sessions.
Run 'python manage.py migrate' to apply them.
June 22, 2025 - 12:31:30
Django version 5.2.3, using settings 'core.settings'
Starting development server at http://0.0.0.0:8000/
Quit the server with CONTROL-C.

WARNING: This is a development server. Do not use it in a production setting. Use a production WSGI or ASGI server instead.
For more information on production servers see: https://docs.djangoproject.com/en/5.2/howto/deployment/
Watching for file changes with StatReloader
/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py changed, reloading.
Performing system checks...

System check identified no issues (0 silenced).

You have 18 unapplied migration(s). Your project may not work properly until you apply the migrations for app(s): admin, auth, contenttypes, sessions.
Run 'python manage.py migrate' to apply them.
June 22, 2025 - 12:33:35
Django version 5.2.3, using settings 'core.settings'
Starting development server at http://0.0.0.0:8000/
Quit the server with CONTROL-C.

WARNING: This is a development server. Do not use it in a production setting. Use a production WSGI or ASGI server instead.
For more information on production servers see: https://docs.djangoproject.com/en/5.2/howto/deployment/
Watching for file changes with StatReloader
[22/Jun/2025 12:37:01] "POST /api/chat/ HTTP/1.1" 200 1249
[22/Jun/2025 12:37:14] "POST /api/chat/ HTTP/1.1" 200 476
[22/Jun/2025 12:37:26] "POST /api/chat/ HTTP/1.1" 200 213
[22/Jun/2025 12:37:37] "POST /api/chat/ HTTP/1.1" 200 476
[22/Jun/2025 12:37:59] "POST /api/chat/ HTTP/1.1" 200 476
[22/Jun/2025 12:38:08] "POST /api/chat/ HTTP/1.1" 200 213
[22/Jun/2025 12:39:08] "POST /api/chat/ HTTP/1.1" 200 476
[22/Jun/2025 12:39:21] "POST /api/chat/ HTTP/1.1" 200 477
[22/Jun/2025 12:39:30] "POST /api/chat/ HTTP/1.1" 200 213
[22/Jun/2025 12:39:38] "POST /api/chat/ HTTP/1.1" 200 214
[22/Jun/2025 12:40:01] "POST /api/chat/ HTTP/1.1" 200 213
[22/Jun/2025 12:40:08] "POST /api/chat/ HTTP/1.1" 200 476
[22/Jun/2025 12:42:11] "POST /api/chat/ HTTP/1.1" 200 458
[22/Jun/2025 12:42:20] "POST /api/chat/ HTTP/1.1" 200 476
[22/Jun/2025 12:42:46] "POST /api/chat/ HTTP/1.1" 200 213
[22/Jun/2025 12:44:32] "POST /api/chat/ HTTP/1.1" 200 476
/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py changed, reloading.
Performing system checks...

System check identified no issues (0 silenced).

You have 18 unapplied migration(s). Your project may not work properly until you apply the migrations for app(s): admin, auth, contenttypes, sessions.
Run 'python manage.py migrate' to apply them.
June 22, 2025 - 12:33:41
Django version 5.2.3, using settings 'core.settings'
Starting development server at http://0.0.0.0:8000/
Quit the server with CONTROL-C.

WARNING: This is a development server. Do not use it in a production setting. Use a production WSGI or ASGI server instead.
For more information on production servers see: https://docs.djangoproject.com/en/5.2/howto/deployment/
DEBUG: Successfully fetched token stats: {'input_tokens': 9, 'output_tokens': 7, 'total_tokens': 16, 'prompt_tokens_details': {'cached_tokens': 0}}
DEBUG: Successfully fetched token stats: {'input_tokens': 9, 'output_tokens': 7, 'total_tokens': 16, 'prompt_tokens_details': {'cached_tokens': 0}}
DEBUG: Successfully fetched token stats: {'input_tokens': 9, 'output_tokens': 7, 'total_tokens': 16, 'prompt_tokens_details': {'cached_tokens': 0}}
DEBUG: Successfully fetched token stats: {'input_tokens': 12, 'output_tokens': 7, 'total_tokens': 19, 'prompt_tokens_details': {'cached_tokens': 0}}
DEBUG: Successfully fetched token stats: {'input_tokens': 9, 'output_tokens': 7, 'total_tokens': 16, 'prompt_tokens_details': {'cached_tokens': 0}}
DEBUG: Successfully fetched token stats: {'input_tokens': 9, 'output_tokens': 7, 'total_tokens': 16, 'prompt_tokens_details': {'cached_tokens': 0}}
Watching for file changes with StatReloader
Watching for file changes with StatReloader
Watching for file changes with StatReloader
[22/Jun/2025 12:46:09] "POST /api/chat/ HTTP/1.1" 200 479
[22/Jun/2025 12:46:17] "POST /api/chat/ HTTP/1.1" 200 213
/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py changed, reloading.
Performing system checks...

System check identified no issues (0 silenced).

You have 18 unapplied migration(s). Your project may not work properly until you apply the migrations for app(s): admin, auth, contenttypes, sessions.
Run 'python manage.py migrate' to apply them.
June 22, 2025 - 12:45:57
Django version 5.2.3, using settings 'core.settings'
Starting development server at http://0.0.0.0:8000/
Quit the server with CONTROL-C.

WARNING: This is a development server. Do not use it in a production setting. Use a production WSGI or ASGI server instead.
For more information on production servers see: https://docs.djangoproject.com/en/5.2/howto/deployment/
DEBUG: Successfully fetched token stats: {'input_tokens': 9, 'output_tokens': 7, 'total_tokens': 16, 'prompt_tokens_details': {'cached_tokens': 0}}
Watching for file changes with StatReloader
/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py changed, reloading.
Performing system checks...

System check identified no issues (0 silenced).

You have 18 unapplied migration(s). Your project may not work properly until you apply the migrations for app(s): admin, auth, contenttypes, sessions.
Run 'python manage.py migrate' to apply them.
June 22, 2025 - 12:46:24
Django version 5.2.3, using settings 'core.settings'
Starting development server at http://0.0.0.0:8000/
Quit the server with CONTROL-C.

WARNING: This is a development server. Do not use it in a production setting. Use a production WSGI or ASGI server instead.
For more information on production servers see: https://docs.djangoproject.com/en/5.2/howto/deployment/
Watching for file changes with StatReloader
/Users/yaoyushao/Documents/文慧通/wenhuitong-project/backend/api/views.py changed, reloading.
Performing system checks...

System check identified no issues (0 silenced).

You have 18 unapplied migration(s). Your project may not work properly until you apply the migrations for app(s): admin, auth, contenttypes, sessions.
Run 'python manage.py migrate' to apply them.
June 22, 2025 - 12:46:25
Django version 5.2.3, using settings 'core.settings'
Starting development server at http://0.0.0.0:8000/
Quit the server with CONTROL-C.

WARNING: This is a development server. Do not use it in a production setting. Use a production WSGI or ASGI server instead.
For more information on production servers see: https://docs.djangoproject.com/en/5.2/howto/deployment/
Watching for file changes with StatReloader
[22/Jun/2025 12:46:39] "POST /api/chat/ HTTP/1.1" 200 480
[22/Jun/2025 12:46:45] "POST /api/chat/ HTTP/1.1" 200 213
[22/Jun/2025 12:46:53] "POST /api/chat/ HTTP/1.1" 200 480
[22/Jun/2025 12:47:02] "POST /api/chat/ HTTP/1.1" 200 484
[22/Jun/2025 12:47:08] "POST /api/chat/ HTTP/1.1" 200 195
[22/Jun/2025 12:47:15] "POST /api/chat/ HTTP/1.1" 200 214
[22/Jun/2025 12:47:41] "POST /api/chat/ HTTP/1.1" 200 484
[22/Jun/2025 12:47:50] "POST /api/chat/ HTTP/1.1" 200 214
